[package]
name = "gst-k4a"
version = "0.0.0-ohmyconanpleaseoverwriteme" # Overwritten during conan create.
authors = ["Andrej Orsula <andrej.orsula@aivero.com>", "Tobias Morell <tobias.morell@aivero.com>"]
license = "LGPL"
description = "GStreamer plugin containing `video/rgbd` source for an Azure Kinect DK (K4A) device"
keywords = [
    "Azure Kinect",
    "K4A",
    "Source",
    "GStreamer",
    "Rust",
]
repository = "https://gitlab.com/aivero/public/gstreamer/gst-k4a"
edition = "2018"
readme = "README.md"

[dependencies]
glib = "0.10"
gobject-sys = "0.10"
gstreamer = "0.16"
gstreamer-base = "0.16"
gstreamer-video = "0.16"
lazy_static = "1.4"

gstreamer-depth-meta = { git = "https://gitlab.com/aivero/public/gstreamer/gst-depth-meta-rs", branch = "temp_unsafe_timestamp_mode_registration" }
rgbd-timestamps = { git = "https://gitlab.com/aivero/public/gstreamer/gst-depth-meta-rs", branch = "temp_unsafe_timestamp_mode_registration" }
k4a = { git = "https://gitlab.com/aivero/public/k4a-rs", tag = "0.5.0" }

[build-dependencies]
gst-plugin-version-helper = "0.2"

# Run `cargo fmt -- --check` and `cargo clippy -- -D warnings` before commits
[dev-dependencies.cargo-husky]
version = "1"
default-features = false # Disable features which are enabled by default
features = ["precommit-hook", "run-cargo-fmt", "run-cargo-clippy"]

[lib]
name = "gstk4asrc"
crate-type = ["cdylib", "rlib"]
path = "src/lib.rs"
